{"version":3,"sources":["components/Timer.tsx","components/ResultAlert.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Timer","React","memo","setShowResultAlert","setStartGame","useState","timer","setTimer","interv","useRef","setTimeout","clearInterval","current","className","onClick","setInterval","getSeconds","slice","minutes","Math","floor","formatTime","ResultAlert","score","setScore","App","quote","setQuote","inputValue","setInputValue","showResultAlert","startGame","useEffect","axios","get","then","data","text","split","map","el","i","color","length","value","onChange","e","target","join","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"kMA6CeA,EArCiBC,IAAMC,MAAK,YAA2C,IAAxCC,EAAuC,EAAvCA,mBAAoBC,EAAmB,EAAnBA,aAAmB,EACvDC,mBAAS,KAD8C,mBAC1EC,EAD0E,KACnEC,EADmE,KAE3EC,EAAsCC,iBAAO,MA2BnD,OARc,IAAVH,GACAI,YAAW,WACPC,cAAcH,EAAOI,SACrBT,GAAmB,MAMvB,sBAAKU,UAAU,QAAf,UACI,wBAAQA,UAAU,SAASC,QArBnC,WACIV,GAAa,GANbI,EAAOI,QAAUG,aAAY,WACzBR,GAAS,SAAAD,GAAK,OAAIA,EAAQ,OAC3B,MAwBC,mBACA,qBAAKO,UAAU,QAAf,SAjBW,SAACP,GAChB,IAAMU,EAAqB,WAAKV,EAAQ,IAAMW,OAAO,GAC/CC,EAAe,UAAMC,KAAKC,MAAMd,EAAQ,KAC9C,MAAM,GAAN,OAAUY,EAAV,cAAuBF,GAcKK,CAAWf,WChBhCgB,EAfuB,SAAC,GAA6C,IAA3CC,EAA0C,EAA1CA,MAAOC,EAAmC,EAAnCA,SAAUrB,EAAyB,EAAzBA,mBAOtD,OACI,sBAAKU,UAAU,eAAf,UACI,oBAAIA,UAAU,4BAAd,gNAAqFU,KACrF,wBAAQT,QARM,WAClBX,GAAmB,GACnBqB,EAAS,IAM2BX,UAAU,8BAA1C,mH,iBCsDGY,G,MAjEO,WAAO,IAAD,EACApB,mBAAwB,IADxB,mBACnBqB,EADmB,KACZC,EADY,OAEUtB,mBAAiB,IAF3B,mBAEnBuB,EAFmB,KAEPC,EAFO,OAGAxB,mBAAiB,GAHjB,mBAGnBkB,EAHmB,KAGZC,EAHY,OAIoBnB,oBAAkB,GAJtC,mBAInByB,EAJmB,KAIF3B,EAJE,OAKQE,oBAAkB,GAL1B,mBAKnB0B,EALmB,KAKR3B,EALQ,KAQ1B4B,qBAAU,WACRC,IAAMC,IAAI,iDAAiDC,MAAK,YAAe,IAAZC,EAAW,EAAXA,KACjET,EAASS,EAAKC,KAAKC,MAAM,UAE1B,CAACf,IAaJ,OACE,sBAAKV,UAAU,MAAf,UAGIiB,EAAkB,cAAC,EAAD,CAAaN,SAAUA,EAAUD,MAAOA,EAAOpB,mBAAoBA,IAEnF,qCACE,oBAAIU,UAAU,QAAd,8BACA,cAAC,EAAD,CAAOT,aAAcA,EAAcD,mBAAoBA,QAM1D2B,GAAmBC,EAClB,qCACE,qBAAIlB,UAAU,cAAd,uCAAmCU,KACnC,sBAAKV,UAAU,UAAf,UACE,qBAAKA,UAAU,eAAf,SAEIa,EAAMa,KAAI,SAACC,EAAIC,GACb,IAAIC,EAIJ,OAHID,EAAIb,EAAWe,SACjBD,EAAQF,IAAOZ,EAAWa,GAAK,UAAY,aAEtC,sBAAc5B,UAAW6B,EAAzB,mBAAoCF,IAAzBC,QAIxB,qBAAK5B,UAAU,mBAAf,SACE,0BAAU+B,MAAOhB,EAAYiB,SAzCtB,SAACC,GACpB,IAAIF,EAAQE,EAAEC,OAAOH,MACrBf,EAAce,GACVA,IAAUlB,EAAMsB,KAAK,KAAOtB,EAAMiB,OAAS,IAC7Cd,EAAc,IACdL,EAASD,EAAQ,KAoC8CV,UAAU,kCAInE,UCrDGoC,EAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,6BAAqBhB,MAAK,YAAkD,IAA/CiB,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCJdO,IAASC,OACP,cAAC,EAAD,IACAC,SAASC,eAAe,SAM1BX,M","file":"static/js/main.a3d4426c.chunk.js","sourcesContent":["import React, { useState, useRef, } from 'react';\r\n\r\ninterface Iprops {\r\n    setShowResultAlert: React.Dispatch<React.SetStateAction<boolean>>\r\n    setStartGame: React.Dispatch<React.SetStateAction<boolean>>\r\n}\r\n\r\n\r\nconst Timer: React.FC<Iprops> = React.memo(({ setShowResultAlert, setStartGame }) => {\r\n    const [timer, setTimer] = useState(180);\r\n    const interv: React.MutableRefObject<any> = useRef(null);\r\n\r\n    const run = () => {\r\n        interv.current = setInterval(() => {\r\n            setTimer(timer => timer - 1);\r\n        }, 1000)\r\n    }\r\n\r\n    function startTimer() {\r\n        setStartGame(true);\r\n        run();\r\n    }\r\n\r\n    const formatTime = (timer: number) => {\r\n        const getSeconds: string = `0${(timer % 60)}`.slice(-2);\r\n        const minutes: string = `${Math.floor(timer / 60)}`;\r\n        return `${minutes} : ${getSeconds}`;\r\n    }\r\n\r\n    if (timer === 0) {\r\n        setTimeout(() => {\r\n            clearInterval(interv.current);\r\n            setShowResultAlert(true);\r\n        })\r\n    }\r\n\r\n\r\n    return (\r\n        <div className='timer'>\r\n            <button className='button' onClick={startTimer}>start</button>\r\n            <div className='title'>{formatTime(timer)}</div>\r\n        </div>\r\n    )\r\n})\r\n\r\nexport default Timer;\r\n","import React from 'react';\r\n\r\n\r\ninterface IProps {\r\n    score: number,\r\n    setScore(value: number): void,\r\n    setShowResultAlert(value: boolean): void,\r\n}\r\n\r\nconst ResultAlert: React.FC<IProps> = ({ score, setScore, setShowResultAlert }) => {\r\n\r\n    const handleNewGame = () => {\r\n        setShowResultAlert(false);\r\n        setScore(0);\r\n    }\r\n\r\n    return (\r\n        <div className='result-alert'>\r\n            <h2 className='result-alert__title title'>{`Время вышло, игра закончена. Ваш счет: ${score}`}</h2>\r\n            <button onClick={handleNewGame} className='result-alert__button button'>Попробовать снова</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ResultAlert; \r\n","import React, { useEffect, useState } from 'react';\nimport Timer from './components/Timer';\nimport ResultAlert from './components/ResultAlert';\nimport axios from 'axios';\nimport './scss/app.scss';\n\n\n\nconst App: React.FC = () => {\n  const [quote, setQuote] = useState<Array<string>>([]);\n  const [inputValue, setInputValue] = useState<string>('');\n  const [score, setScore] = useState<number>(0);\n  const [showResultAlert, setShowResultAlert] = useState<boolean>(false);\n  const [startGame, setStartGame] = useState<boolean>(false);\n\n\n  useEffect(() => {\n    axios.get('https://fish-text.ru/get?format=json&number=1').then(({ data }) => {\n      setQuote(data.text.split(''));\n    })\n  }, [score]);\n\n  const handleChange = (e: React.ChangeEvent<HTMLTextAreaElement>): void => {\n    let value = e.target.value;\n    setInputValue(value);\n    if (value === quote.join('') && quote.length > 0) {\n      setInputValue('');\n      setScore(score + 1);\n    }\n  }\n\n\n\n  return (\n    <div className='app'>\n\n      {\n        showResultAlert ? <ResultAlert setScore={setScore} score={score} setShowResultAlert={setShowResultAlert} />\n          :\n          <>\n            <h1 className='title'>Fast typing game</h1>\n            <Timer setStartGame={setStartGame} setShowResultAlert={setShowResultAlert} />\n          </>\n      }\n\n\n      {\n        !showResultAlert && startGame ?\n          <>\n            <h2 className='score title'>Счет: {score}</h2>\n            <div className='content'>\n              <div className=\"content__top\">\n                {\n                  quote.map((el, i) => {\n                    let color;\n                    if (i < inputValue.length) {\n                      color = el === inputValue[i] ? 'correct' : 'incorrect';\n                    }\n                    return <span key={i} className={color}>{`${el}`}</span>\n                  })\n                }\n              </div>\n              <div className=\"content__bottoom\">\n                <textarea value={inputValue} onChange={handleChange} className=\"content__bottom-input\"></textarea>\n              </div>\n            </div>\n          </>\n          : null\n      }\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);  \n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n}\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals(); \n"],"sourceRoot":""}